
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="author" content="李鹏" />
        <meta name="keywords" content="Linux" />
        <meta name="description" content="本文主要分析spec文件的编写。 概述 rpm是Red Hat包管理器，rpm 包有五种基本操作：安装、卸载、升级、查询、验证。 安装 ： rpm -i [options] file1.rpm .... 卸载 ： rpm -e [options] pkg1 升级 ： rpm -U [options] .... 查询 ： rpm -q [options] ... 验证： rpm -V [options] ... spec文件规范 制作RPM的关键就是编写SPEC软件包描述文件。这个文件包含了软件包的诸多信息，如软件包的名字、版本、类别、说明摘要、创建时执行什么指令、安装时执行什么操作、以及软件包要包含哪些文件等等 个人理解，rpm包就是把手工安装软件进行了封装（类似一键安装或自动化安装）。 文件头 开头一般包含以下几个域： Summary ..." />

<!-- Open Graph tags -->
<meta property="og:site_name" content="路漫求索"/>
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="RPM打包与SPEC分析（一）"/>
    <meta property="og:url" content="../../../../2013/10/09/rpm/"/>
    <meta property="og:description" content="本文主要分析spec文件的编写。 概述 rpm是Red Hat包管理器，rpm 包有五种基本操作：安装、卸载、升级、查询、验证。 安装 ： rpm -i [options] file1.rpm .... 卸载 ： rpm -e [options] pkg1 升级 ： rpm -U [options] .... 查询 ： rpm -q [options] ... 验证： rpm -V [options] ... spec文件规范 制作RPM的关键就是编写SPEC软件包描述文件。这个文件包含了软件包的诸多信息，如软件包的名字、版本、类别、说明摘要、创建时执行什么指令、安装时执行什么操作、以及软件包要包含哪些文件等等 个人理解，rpm包就是把手工安装软件进行了封装（类似一键安装或自动化安装）。 文件头 开头一般包含以下几个域： Summary ..."/>
    <meta property="article:published_time" content="2013-10-09" />
    <meta property="article:section" content="Linux" />
        <meta property="article:tag" content="Linux" />
        <meta property="article:author" content="李鹏" />
        <meta property="og:image"
              content="../../../../favicon.png"/>

    <title>RPM打包与SPEC分析（一） - 路漫求索</title>

        <link rel="stylesheet" href="../../../../theme/css/bootstrap.sandstone.min.css" type="text/css"/>

    <link href="../../../../theme/css/font-awesome.min.css" rel="stylesheet" />
    <link href="../../../../theme/css/pygments/colorful.css" rel="stylesheet" />
    
    <link href="../../../../theme/css/pelican-twitchy.min.css" rel="stylesheet" />

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <!-- Feeds -->
        <link href="../../../../feeds/atom.xml" type="application/atom+xml" rel="alternate"
              title="路漫求索 ATOM Feed" />
</head>
<body data-spy="scroll" data-target="#scrollspy">
    <div id="wrapper">
        <!-- Sidebar -->
        <div id="sidebar-wrapper-small" class="twitchy-background">
            <ul id="accordion-small" class="sidebar-nav sidebar-nav-small">
                <li>
        <a href="../../../.." title="路漫求索" class="collapsed">
            <span class="glyphicon glyphicon-home"></span>
        </a>
    </li>
                <li class="nav-divider"></li>
                <li>
        <a href="../../../../archives.html" title="最新文章" class="collapsed">
            <span class="glyphicon glyphicon-th-list"></span>
        </a>
    </li>
                
                <li class="nav-divider"></li>
                <li id="share-small">
                    <a data-toggle="collapse" data-parent="#accordion-small" href="#collapse-share-small" title="分享" class="collapsed">
                        <i class="fa fa-share-alt padding-small"></i>
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-share-small" class="collapse ">
                    <li>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=../../../../2013/10/09/rpm/" title="Share via Facebook" target="popup">
                            <i class="fa fa-facebook-square padding-small"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://plus.google.com/share?url=../../../../2013/10/09/rpm/" title="Share via Google+" target="popup">
                            <i class="fa fa-google-plus padding-small"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/share" class="twitter-share-button" data-count="vertical" title="Share via Twitter" target="popup">
                            <i class="fa fa-twitter-square padding-small"></i>
                        </a>
                    </li>
                </ul></li>
                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion-small" href="#collapse-social-small" title="Social" class="collapsed">
                        <i class="fa fa-users padding-small"></i>
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-social-small" class="collapse ">
                    <li>
                        <a href="mailto:peng.li@i-soft.com.cn" title="EMAIL"><i class="fa fa-envelope-square fa-lg padding-small"></i></a>
                    </li>
                    <li>
                        <a href="https://github.com/king32783784" title="GitHub"><i class="fa fa-github-square fa-lg padding-small"></i></a>
                    </li>
                    <li>
                        <a href="http://king32783784.github.io/feeds/atom.xml" title="RSS"><i class="fa fa-rss-square fa-lg padding-small"></i></a>
                    </li>
                </ul></li>
                <li class="nav-divider"></li>
                <li>
        <a href="#" title="Back to top" class="collapsed">
            <span class="fa fa-arrow-up"></span>
        </a>
    </li>
            </ul>
        </div>
        <div id="sidebar-wrapper" class="twitchy-background">
            <ul id="accordion" class="sidebar-nav">
                <li class="sidebar-brand">
                    <a href="../../../../">
<img src="../../../../sitelogo.png" width="200" alt="Sitelogo"/>                     </a>
                </li>
                    <li class="nav-divider"></li>
                    <li>
                        <a data-toggle="collapse" data-parent="#accordion" href="#collapse-latest">
                            <span class="glyphicon glyphicon-th-list padding-small"></span>
                            最新文章
                        </a>
                    </li>
                    <li class="panel anti-panel"><ul id="collapse-latest" class="sidebar_submenu collapse in">
                        <li class="">
                            <a class="hide-overflow" href="../../../../2017/08/19/Multue/" title="Multue测试工具介绍">
                                <i class="fa fa-file-text padding-small"></i>
                                Multue测试工具介绍
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../../../../2017/06/17/网络/" title="网络速率统计的几个示例">
                                <i class="fa fa-file-text padding-small"></i>
                                网络速率统计的几个示例
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../../../../2017/04/01/Robot/" title="Robot Framework 用户手册(三)">
                                <i class="fa fa-file-text padding-small"></i>
                                Robot Framework 用户手册(三)
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../../../../2017/03/31/Robot/" title="Robot Framework 用户手册(二)">
                                <i class="fa fa-file-text padding-small"></i>
                                Robot Framework 用户手册(二)
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../../../../2017/03/26/Robot/" title="Robot Framework 用户手册(一)">
                                <i class="fa fa-file-text padding-small"></i>
                                Robot Framework 用户手册(一)
                            </a>
                        </li>
                    <li>
                        <a href="../../../../archives.html">
                            <i class="fa fa-arrow-right padding-small"></i>
                            更多
                        </a>
                    </li>
                    </ul></li>
                <li class="nav-divider"></li>
                <li id="share">
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-share" title="Share" class="collapsed">
                        <i class="fa fa-share-alt padding-small"></i>
                        分享
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-share" class="sidebar_submenu collapse ">
                    <li>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=../../../../2013/10/09/rpm/" target="popup">
                            <i class="fa fa-facebook-square padding-small"></i>
                            Facebook
                        </a>
                    </li>
                    <li>
                        <a href="https://plus.google.com/share?url=../../../../2013/10/09/rpm/" target="popup">
                            <i class="fa fa-google-plus padding-small"></i>
                            Google+
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/share" class="twitter-share-button" data-count="vertical" target="popup">
                            <i class="fa fa-twitter-square padding-small"></i>
                            Twitter
                        </a>
                    </li>
                </ul></li>
                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-social">
                        <i class="fa fa-users padding-small"></i>
                        联系
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-social" class="sidebar_submenu collapse ">
                    <li>
                        <a href="mailto:peng.li@i-soft.com.cn" title="EMAIL">
                            <i class="fa fa-envelope-square fa-lg padding-small"></i>
                            EMAIL
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/king32783784" title="GitHub">
                            <i class="fa fa-github-square fa-lg padding-small"></i>
                            GitHub
                        </a>
                    </li>
                    <li>
                        <a href="http://king32783784.github.io/feeds/atom.xml" title="RSS">
                            <i class="fa fa-rss-square fa-lg padding-small"></i>
                            RSS
                        </a>
                    </li>
                </ul></li>
                
                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-pages">
                        <i class="fa fa-folder-open padding-small"></i>
                       站内导航
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-pages" class="sidebar_submenu collapse ">
                    <li>
                        <a href="../../../../pages/opensource.html">
                            <i class="fa fa-file-text padding-small"></i>
                            开源项目
                        </a>
                    </li>
                    <li>
                        <a href="../../../../pages/links.html">
                            <i class="fa fa-file-text padding-small"></i>
                            常用链接
                        </a>
                    </li>
                    <li>
                        <a href="../../../../pages/Reference material.html">
                            <i class="fa fa-file-text padding-small"></i>
                            参考资料
                        </a>
                    </li>
                    <li>
                        <a href="../../../../pages/todo list.html">
                            <i class="fa fa-file-text padding-small"></i>
                            Todo List
                        </a>
                    </li>
                    <li>
                        <a href="../../../../pages/tools.html">
                            <i class="fa fa-file-text padding-small"></i>
                            工具集
                        </a>
                    </li>
                    <li class="active">
                        <a href="../../../../pages/aboutme.html">
                            <i class="fa fa-file-text padding-small"></i>
                            关于我
                        </a>
                    </li>
                    <li>
                        <a href="../../../../pages/doc.html">
                            <i class="fa fa-file-text padding-small"></i>
                            专题文档
                        </a>
                    </li>
                </ul></li>
                
                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-categories">
                        <i class="fa fa-folder-open padding-small"></i>
                        文章分类
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-categories" class="sidebar_submenu collapse ">
                    <li >
                        <a href="../../../../category/bian-cheng-yu-yan-python.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            编程语言-Python
                            <span class="badge pull-right categorybadge">26</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/zi-dong-hua-ce-shi-selenium.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            自动化测试-Selenium
                            <span class="badge pull-right categorybadge">17</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/zi-dong-hua-ce-shi-autotest.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            自动化测试-Autotest
                            <span class="badge pull-right categorybadge">12</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/zi-dong-hua-ce-shi-ltp.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            自动化测试-LTP
                            <span class="badge pull-right categorybadge">7</span>
                        </a>
                    </li>
                    <li class="active">
                        <a href="../../../../category/linux.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            Linux
                            <span class="badge pull-right categorybadge">6</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/ce-shi.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            测试
                            <span class="badge pull-right categorybadge">4</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/leetcode.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            leetcode
                            <span class="badge pull-right categorybadge">4</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/qi-ta.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            其他
                            <span class="badge pull-right categorybadge">4</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/xing-neng-ce-shi.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            性能测试
                            <span class="badge pull-right categorybadge">4</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/zi-dong-hua-ce-shi-robot.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            自动化测试-Robot
                            <span class="badge pull-right categorybadge">4</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/bian-cheng-yu-yan-c.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            编程语言-C
                            <span class="badge pull-right categorybadge">3</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/dockerzhuan-ti.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            Docker专题
                            <span class="badge pull-right categorybadge">3</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/python-pyqt.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            Python-pyqt
                            <span class="badge pull-right categorybadge">3</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/zi-dong-hua-ce-shi-avocado.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            自动化测试-Avocado
                            <span class="badge pull-right categorybadge">3</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/suan-fa.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            算法
                            <span class="badge pull-right categorybadge">2</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/unixhuan-jing-bian-cheng.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            unix环境编程
                            <span class="badge pull-right categorybadge">2</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/zi-dong-hua-ce-shi-gong-ju.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            自动化测试工具
                            <span class="badge pull-right categorybadge">2</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/gong-ju.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            工具
                            <span class="badge pull-right categorybadge">1</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/mongodb.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            Mongodb
                            <span class="badge pull-right categorybadge">1</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/tong-xin-xiang-guan.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            通信相关
                            <span class="badge pull-right categorybadge">1</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/web.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            Web
                            <span class="badge pull-right categorybadge">1</span>
                        </a>
                    </li>
                </ul></li>
                
            </ul>
        </div>
        <!-- /#sidebar-wrapper -->
        <!-- open/close sidebar -->
        <a href="#menu-toggle" class="btn btn-default" id="menu-toggle">
            <span id="right-arrow" class="glyphicon glyphicon-chevron-right"  title="expand sidebar"></span>
            <span id="left-arrow" class="glyphicon glyphicon-chevron-left" title="minimize sidebar"></span>
        </a>
       <!-- /open/close sidebar -->
       <!--访问统计 -->
        <!-- Page Content -->
        <div id="page-content-wrapper">
            <div class="container-fluid">
<section id="content">
    <article>
        <div class="row">
            <div class="col-lg-9">
                <header class="page-header">
                    <h1>
                        <a href="../../../../2013/10/09/rpm/"
                           rel="bookmark"
                           title="Permalink to RPM打包与SPEC分析（一）">
                            RPM打包与SPEC分析（一）
                        </a>
                        <small>
<div class="post-info">
    <div class="publish-info-block">
        <small>
            <span class="published">
                <i class="fa fa-calendar padding-small"></i><time datetime="2013-10-09T00:00:00+08:00"> 2013-10-09 三</time>
            </span>
            <span class="category">
                <i class="fa fa-folder-open padding-small"></i><a href="../../../../category/linux.html">Linux</a>
            </span>
            <span class="tags">
                <i class="fa fa-tags padding-small"></i>
                <a href="../../../../tag/linux.html">Linux</a>            </span>
        </small>
    </div>
</div><!-- /.post-info -->                        </small>
                    </h1>
                </header>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-9">
                <div class="entry-content">
                    <body><p>本文主要分析spec文件的编写。</p>
<h3 id="gai-shu">概述</h3>
<p>rpm是Red Hat包管理器，rpm 包有五种基本操作：安装、卸载、升级、查询、验证。</p>
<ul>
<li>安装 ： rpm -i [options] file1.rpm ....</li>
<li>卸载 ： rpm -e [options] pkg1</li>
<li>升级 ： rpm -U [options] ....</li>
<li>查询 ： rpm -q [options] ...</li>
<li>验证： rpm -V [options] ...</li>
</ul>
<h3 id="specwen-jian-gui-fan">spec文件规范</h3>
<p>制作RPM的关键就是编写SPEC软件包描述文件。这个文件包含了软件包的诸多信息，如软件包的名字、版本、类别、说明摘要、创建时执行什么指令、安装时执行什么操作、以及软件包要包含哪些文件等等
个人理解，rpm包就是把手工安装软件进行了封装（类似一键安装或自动化安装）。</p>
<h4 id="wen-jian-tou">文件头</h4>
<p>开头一般包含以下几个域：</p>
<ul>
<li>
<p>Summary ：用一句话概括软件尽量多的信息，方便以后查阅</p>
</li>
<li>
<p>Name: 软件包的名字，最终RPM软件包读这个名字，再和版本号、release号进行拼接软件包名</p>
</li>
<li>
<p>Version: 软件版本号， 一般大的变动才会升级</p>
</li>
<li>
<p>Release: 软件发布号， 比如小的变动、小的补丁可以进行+1</p>
</li>
<li>
<p>Vendor: 软件开发者名字，不做强制要求</p>
</li>
<li>
<p>Copyright : 版权说明</p>
</li>
<li>
<p>Group: 软件包分组，从属那个组，如core app等等</p>
</li>
<li>
<p>Source: 软件包的名字，如stress-1.0.4.tar.gz 可以使用Source1、Source2等多个，后面也可以使用%{source1}等引用</p>
</li>
<li>
<p>BuildRoot:安装或编译时使用的“虚拟目录",考虑到多用户环境，一般%{_tmppath}/%{name}-%{version}-%{release}-root
或%{_tmppath}/%{name}-%{version}-%{release}-buildroot-%(%{__id_u} -n}
该参数非常重要，因为在生成rpm的过程中，执行make install时就会把软件安装到上述的路径中，在打包的时候，同样依赖“虚拟目录”为“根目录”进行操作。后面可使用$RPM_BUILD_ROOT 方式引用。
%description: 软件包详细说明，可以多行 </p>
</li>
<li>
<p>Patch: 补丁源码，可使用Patch1、Patch2等标识多个补丁，使用%patch0或%{patch0}引用</p>
</li>
<li>
<p>Prefix: %{_prefix} 这个主要是为了解决今后安装rpm包时，并不一定把软件安装到rpm中打包的目录的情况。这样，必须在这里定义该标识，并在编写%install脚本的时候引用，才能实现rpm安装时重新指定位置的功能</p>
</li>
<li>
<p>Prefix: %{_sysconfdir} 这个原因和上面的一样，但由于%{_prefix}指/usr，而对于其他的文件，例如/etc下的配置文件，则需要用%{_sysconfdir}标识</p>
</li>
<li>
<p>Build Arch: 指编译的目标处理器架构，noarch标识不指定，但通常都是以/usr/lib/rpm/marcros中的内容为默认值</p>
</li>
<li>
<p>Requires: 该rpm包所依赖的软件包名称，可以用&gt;=或&lt;=表示大于或小于某一特定版本，例如：
libpng-devel &gt;= 1.0.20 zlib 
※“&gt;=”号两边需用空格隔开，而不同软件名称也用空格分开
还有例如PreReq、Requires(pre)、Requires(post)、Requires(preun)、Requires(postun)、BuildRequires等都是针对不同阶段的依赖指定 </p>
</li>
<li>
<p>Provides: 指明本软件一些特定的功能，以便其他rpm识别</p>
</li>
<li>
<p>Packager: 打包者的信息</p>
</li>
</ul>
<h4 id="prepduan">%prep段</h4>
<p>预处理阶段，可以执行一些解压命令，或则是安装前脚本，安装前设置等等。 %prep、%build、%install，除了可以执行RPM的宏命令（%开头），还可以执行shell命令。</p>
<p>%setup -n %{name}-%{vesion}  把源码解压并放好</p>
<p>通常是从/usr/src/asianux/SOURCES里的包解压到/usr/src/asianux/BUILD/%{name}-%{version}中。
一般用%setup -c就可以了，
但有两种情况：一就是同时编译多个源码包，二就是源码的tar包的名称与解压出来的目录不一致，此时，就需要使用-n参数指定一下了。</p>
<p>%patch 打补丁</p>
<p>通常补丁都会一起在源码tar.gz包中，或放到SOURCES目录下。一般参数为：</p>
<p>%patch -p1 使用前面定义的Patch补丁进行，-p1是忽略patch的第一层目录</p>
<p>%Patch2 -p1 -b xxx.patch 打上指定的补丁，-b是指生成备份文件</p>
<p>补充一下setup、patch参数：</p>
<div class="highlight"><pre><span></span><span class="nf">%setup</span> <span class="err">不加任何选项，仅将软件包打开。</span> 
<span class="nf">%setup</span> <span class="o">-</span><span class="n">n</span> <span class="n">newdir</span> <span class="err">将软件包解压在</span><span class="n">newdir</span><span class="err">目录。</span> 
<span class="nf">%setup</span> <span class="o">-</span><span class="n">c</span> <span class="err">解压缩之前先产生目录。</span> 
<span class="nf">%setup</span> <span class="o">-</span><span class="n">b</span> <span class="n">num</span> <span class="err">将第</span><span class="n">num</span><span class="err">个</span><span class="n">source</span><span class="err">文件解压缩。</span> 
<span class="nf">%setup</span> <span class="o">-</span><span class="n">T</span> <span class="err">不使用</span><span class="k">default</span><span class="err">的解压缩操作。</span> 
<span class="nf">%setup</span> <span class="o">-</span><span class="n">T</span> <span class="o">-</span><span class="n">b</span> <span class="mi">0</span> <span class="err">将第</span><span class="mi">0</span><span class="err">个源代码文件解压缩。</span> 
<span class="nf">%setup</span> <span class="o">-</span><span class="n">c</span> <span class="o">-</span><span class="n">n</span> <span class="n">newdir</span> <span class="err">指定目录名称</span><span class="n">newdir</span><span class="err">，并在此目录产生</span><span class="n">rpm</span><span class="err">套件。</span>  
<span class="nf">%patch</span> <span class="err">最简单的补丁方式，自动指定</span><span class="n">patch</span> <span class="n">level</span><span class="err">。</span> 
<span class="nf">%patch</span> <span class="mi">0</span> <span class="err">使用第</span><span class="mi">0</span><span class="err">个补丁文件，相当于</span><span class="nf">%patch</span> <span class="o">?</span><span class="n">p</span> <span class="mi">0</span><span class="err">。</span> 
<span class="nf">%patch</span> <span class="o">-</span><span class="n">s</span> <span class="err">不显示打补丁时的信息。</span> 
<span class="nf">%patch</span> <span class="o">-</span><span class="n">T</span> <span class="err">将所有打补丁时产生的输出文件删除。</span>
</pre></div>
<h4 id="buildduan">%build段</h4>
<p>生成阶段，或则是编译阶段。一般包含%configure、 make 等等，同样也可以根据不同的软件需要，添加不同的辅助编译的命令</p>
<p>%configure 这个不是关键字，而是rpm定义的标准宏命令。意思是执行源代码的configure配置
在/usr/src/asianux/BUILD/%{name}-%{version}目录中进行 ，使用标准写法，会引用/usr/lib/rpm/marcros中定义的参数。
另一种不标准的写法是，可参考源码中的参数自定义，例如：</p>
<div class="highlight"><pre><span></span>CFLAGS="$RPM_OPT_FLAGS" CXXFLAGS="$RPM_OPT_FLAGS" ./configure --prefix=%{_prefix}
</pre></div>
<p>在/usr/src/asianux/BUILD/%{name}-%{version}目录中进行make的工作 ，常见写法：</p>
<div class="highlight"><pre><span></span>make %{?_smp_mflags} OPTIMIZE="%{optflags}"
</pre></div>
<p>都是一些优化参数，定义在/usr/lib/rpm/marcros中</p>
<h4 id="install">%install</h4>
<p>安装阶段，类似于make install。这里把软件安装到虚拟的根目录中，比如${RPM_BUILD_ROOT}/%{_bindir}</p>
<p>在/usr/src/asianux/BUILD/%{name}-%{version}目录中进行make install的操作。这个很重要，因为如果这里的路径不对的话，则下面%file中寻找文件的时候就会失败。 
常见内容有：
%makeinstall 这不是关键字，而是rpm定义的标准宏命令。也可以使用非标准写法：</p>
<div class="highlight"><pre><span></span>make DESTDIR=$RPM_BUILD_ROOT install
</pre></div>
<p>或 </p>
<div class="highlight"><pre><span></span>make prefix=$RPM_BUILD_ROOT install
</pre></div>
<p>需要说明的是，这里的%install主要就是为了后面的%file服务的。所以，还可以使用常规的系统命令：</p>
<div class="highlight"><pre><span></span>install -d $RPM_BUILD_ROOT/
cp -a * $RPM_BUILD_ROOT/
</pre></div>
<p>%clean 清理临时文件
通常内容为：</p>
<div class="highlight"><pre><span></span>[ "$RPM_BUILD_ROOT" != "/" ] &amp;&amp; rm -rf "$RPM_BUILD_ROOT"
rm -rf $RPM_BUILD_DIR/%{name}-%{version}
</pre></div>
<p>※注意区分<span class="math">\(RPM_BUILD_ROOT和\)</span>RPM_BUILD_DIR：</p>
<p>$RPM_BUILD_ROOT是指开头定义的BuildRoot，</p>
<p>而$RPM_BUILD_DIR通常就是指/usr/src/asianux/BUILD，其中，前面的才是%file需要的。 </p>
<div class="highlight"><pre><span></span><span class="nf">%pre</span> <span class="n">rpm</span><span class="err">安装前执行的脚本</span>
<span class="nf">%post</span> <span class="n">rpm</span><span class="err">安装后执行的脚本</span>
<span class="nf">%preun</span> <span class="n">rpm</span><span class="err">卸载前执行的脚本</span>
<span class="nf">%postun</span> <span class="n">rpm</span><span class="err">卸载后执行的脚本</span>
</pre></div>
<p>%preun %postun 的区别是什么呢？</p>
<p>前者在升级的时候会执行，后者在升级rpm包的时候不会执行</p>
<h4 id="filesduan">%files段</h4>
<p>本段是文件段，用于定义软件包所包含的文件，分为三类--说明文档（doc），配置文件（config）及执行程序，还可定义文件存取权限，拥有者及组别。</p>
<p>这里会在虚拟根目录下进行，千万不要写绝对路径，而应用宏或变量表示相对路径。 如果描述为目录，表示目录中除%exclude外的所有文件。
%defattr (-,root,root) 指定包装文件的属性，分别是(mode,owner,group)，-表示默认值，对文本文件是0644，可执行文件是0755</p>
<p>%exclude 列出不想打包到rpm中的文件
※小心，如果%exclude指定的文件不存在，也会出错的。 </p>
<h4 id="changelogduan">%changelog段</h4>
<p>本段是修改日志段。你可以将软件的每次修改记录到这里，保存到发布的软件包中，以便查询之用。每一个修改日志都有这样一种格式：第一行是：* 星期 月 日 年 修改人 电子信箱。其中：星期、月份均用英文形式的前3个字母，用中文会报错。接下来的行写的是修改了什么地方，可写多行。一般以减号开始，便于后续的查阅。</p>
<h4 id="zhu-yi-shi-xiang">注意事项</h4>
<p>※特别需要注意的是：%install部分使用的是绝对路径，而%file部分使用则是相对路径，虽然其描述的是同一个地方。千万不要写错。</p>
<p>就是%file中必须明白，用的是相对目录引用</p>
<div class="highlight"><pre><span></span><span class="nf">%files</span> 
<span class="nf">%defattr</span><span class="p">(</span><span class="o">-</span><span class="p">,</span><span class="n">root</span><span class="p">,</span><span class="n">root</span><span class="p">)</span> 
<span class="o">%</span><span class="p">{</span><span class="n">_bindir</span><span class="p">}</span> 
<span class="o">%</span><span class="p">{</span><span class="n">_libdir</span><span class="p">}</span> 
<span class="o">%</span><span class="p">{</span><span class="n">_datadir</span><span class="p">}</span> 
<span class="nf">%exclude</span> <span class="o">%</span><span class="p">{</span><span class="n">_libdir</span><span class="p">}</span><span class="o">/</span><span class="n">debug</span>
</pre></div>
<p>如何编写%file段 </p>
<p>由于必须在%file中包括所有套件中的文件，所以，我们需要清楚编译完的套件到底包括那些文件？
常见的做法是，人工模拟一次编译的过程：
 这样，整个套件的内容就会被放到/usr/local/xxx中，可根据情况编写%file和%exclude段。</p>
<p>※当然，这个只能对源码按GNU方式编写，并使用GNU autotool创建的包有效，若自定义Makefile则不能一概而论。 </p>
<p>关于rpm中的执行脚本 </p>
<p>如果正在制作的rpm包是准备作为放到系统安装光盘中的话，则需要考虑rpm中定义的脚本是否有问题。由于系统在安装的时候只是依赖于一个小环境进行，而该环境与实际安装完的环境有很大的区别，所以，大部分的脚本在该安装环境中都是无法生效，甚至会带来麻烦的。
所以，对于这样的，需要放到安装光盘中的套件，不加入执行脚本是较佳的方法。</p>
<p>另外，为提供操作中可参考的信息，rpm还提供了一种信号机制：不同的操作会返回不同的信息，并放到默认变量$1中。</p>
<div class="highlight"><pre><span></span>0代表卸载、1代表安装、2代表升级
</pre></div>
<h3 id="specwen-jian-shi-li_1">SPEC文件示例</h3>
<p>示例一：</p>
<p>打包 gzip</p>
<p>简单进行说明，</p>
<div class="highlight"><pre><span></span><span class="nl">Summary</span><span class="p">:</span> <span class="n">The</span> <span class="n">GNU</span> <span class="n">data</span> <span class="n">compression</span> <span class="n">program</span>
<span class="nl">Name</span><span class="p">:</span> <span class="n">gzip</span>
<span class="nl">Version</span><span class="p">:</span> <span class="mf">1.8</span>
<span class="nl">Release</span><span class="p">:</span> <span class="mi">1</span>
<span class="nl">License</span><span class="p">:</span> <span class="n">GPLv3</span><span class="o">+</span> <span class="n">and</span> <span class="n">GFDL</span>
<span class="nl">Source</span><span class="p">:</span> <span class="nl">http</span><span class="p">:</span><span class="c1">//ftp.gnu.org/gnu/gzip/gzip-%{version}.tar.xz</span>
<span class="nl">URL</span><span class="p">:</span> <span class="nl">http</span><span class="p">:</span><span class="c1">//www.gzip.org/</span>
<span class="nl">Conflicts</span><span class="p">:</span> <span class="n">filesystem</span> <span class="o">&lt;</span> <span class="mi">3</span>  <span class="err">#</span> <span class="err">定义</span><span class="n">filesystem</span><span class="err">至少版本</span><span class="mi">3</span><span class="err">，否则存在冲突</span>
<span class="nl">Provides</span><span class="p">:</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">gunzip</span>  <span class="err">#</span> <span class="err">功能</span><span class="mi">1</span>
<span class="nl">Provides</span><span class="p">:</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">gzip</span>    <span class="err">#</span> <span class="err">功能</span><span class="mi">2</span>
<span class="nl">Provides</span><span class="p">:</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">zcat</span>    <span class="err">#</span> <span class="err">功能</span><span class="mi">3</span>
<span class="cp">#for one check</span>
<span class="nl">BuildRequires</span><span class="p">:</span> <span class="n">less</span><span class="p">,</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">more</span>

<span class="nf">%description</span>
<span class="n">The</span> <span class="n">gzip</span> <span class="n">package</span> <span class="n">contains</span> <span class="n">the</span> <span class="n">popular</span> <span class="n">GNU</span> <span class="n">gzip</span> <span class="n">data</span> <span class="n">compression</span>
<span class="n">program</span><span class="p">.</span> <span class="n">Gzipped</span> <span class="n">files</span> <span class="n">have</span> <span class="n">a</span> <span class="p">.</span><span class="n">gz</span> <span class="n">extension</span><span class="p">.</span>

<span class="n">Gzip</span> <span class="n">should</span> <span class="n">be</span> <span class="n">installed</span> <span class="n">on</span> <span class="n">your</span> <span class="n">system</span><span class="p">,</span> <span class="n">because</span> <span class="n">it</span> <span class="n">is</span> <span class="n">a</span>
<span class="n">very</span> <span class="n">commonly</span> <span class="n">used</span> <span class="n">data</span> <span class="n">compression</span> <span class="n">program</span><span class="p">.</span>

<span class="nf">%prep</span>
<span class="nf">%setup</span> <span class="o">-</span><span class="n">q</span>
<span class="nf">%build</span>
<span class="k">export</span> <span class="n">DEFS</span><span class="o">=</span><span class="s">"NO_ASM"</span>
<span class="k">export</span> <span class="n">CPPFLAGS</span><span class="o">=</span><span class="s">"-DHAVE_LSTAT"</span> <span class="err">#</span> <span class="n">make</span> <span class="err">前设置环境变量</span>
<span class="nf">%configure</span>
<span class="n">make</span> <span class="o">%</span><span class="p">{</span><span class="o">?</span><span class="n">_smp_mflags</span><span class="p">}</span>

<span class="nf">%install</span>
<span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="err">$</span><span class="p">{</span><span class="n">RPM_BUILD_ROOT</span><span class="p">}</span>  <span class="err">#</span> <span class="err">清空临时目录</span>
<span class="nf">%makeinstall</span>  <span class="n">bindir</span><span class="o">=</span><span class="err">$</span><span class="p">{</span><span class="n">RPM_BUILD_ROOT</span><span class="p">}</span><span class="o">/%</span><span class="p">{</span><span class="n">_bindir</span><span class="p">}</span> <span class="err">#</span> <span class="err">二进制导向临时目录</span>

<span class="cp"># we don't ship it, so let's remove it from ${RPM_BUILD_ROOT}</span>
<span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="err">$</span><span class="p">{</span><span class="n">RPM_BUILD_ROOT</span><span class="p">}</span><span class="o">%</span><span class="p">{</span><span class="n">_infodir</span><span class="p">}</span> <span class="err">#</span> <span class="err">删除</span><span class="n">infodir</span>
<span class="cp"># uncompress is a part of ncompress package</span>
<span class="n">rm</span> <span class="o">-</span><span class="n">f</span> <span class="err">$</span><span class="p">{</span><span class="n">RPM_BUILD_ROOT</span><span class="p">}</span><span class="o">/%</span><span class="p">{</span><span class="n">_bindir</span><span class="p">}</span><span class="o">/</span><span class="n">uncompress</span> <span class="err">#</span> <span class="err">删除</span><span class="n">uncompress</span><span class="p">,</span><span class="err">避免冲突</span>

<span class="nf">%check</span>
<span class="n">make</span> <span class="n">check</span>      <span class="err">#</span> <span class="err">进行检查测试</span>

<span class="nf">%files</span>
<span class="nf">%defattr</span><span class="p">(</span><span class="o">-</span><span class="p">,</span><span class="n">root</span><span class="p">,</span><span class="n">root</span><span class="p">)</span>
<span class="o">%</span><span class="p">{</span><span class="n">_bindir</span><span class="p">}</span><span class="cm">/*</span>
<span class="cm">%{_mandir}/*/</span><span class="o">*</span>

<span class="nf">%changelog</span>
<span class="o">*</span> <span class="n">Fri</span> <span class="n">Oct</span> <span class="mi">23</span> <span class="mi">2015</span> <span class="n">xxx</span> <span class="o">-</span> <span class="mf">1.6</span><span class="o">-</span><span class="mi">7</span>
<span class="o">-</span> <span class="n">Rebuild</span> <span class="k">for</span> <span class="k">new</span> <span class="mf">4.0</span> <span class="n">release</span>
</pre></div>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script></body>
                </div>
                <footer class="text-right">
                    <p>by 李鹏</p>
                </footer>
  <!-- css -->
  <style type="text/css">
      .center {
          text-align: center;
      }
      .hidden {
          display: none;
      }
    .donate_bar a.btn_donate{
      display: inline-block;
      width: 80px;
      height:80px;
      background: url("http://7xsl28.com1.z0.glb.clouddn.com/btn_reward.gif") no-repeat;
      _background: url("http://7xsl28.com1.z0.glb.clouddn.com/btn_reward.gif") no-repeat;

      <!-- http://img.t.sinajs.cn/t5/style/images/apps_PRF/e_media/btn_reward.gif
           因为本 hexo 生成的博客所用的 theme 的 a:hover 带动画效果，
         为了在让打赏按钮显示效果正常 而 添加了以下几行 css，
         嵌入其它博客时不一定要它们。 -->
      -webkit-transition: background 0s;
      -moz-transition: background 0s;
      -o-transition: background 0s;
      -ms-transition: background 0s;
      transition: background 0s;
      <!-- /让打赏按钮的效果显示正常 而 添加的几行 css 到此结束 -->
    }

    .donate_bar a.btn_donate:hover{ background-position: 0px -82px;}
    .donate_bar .donate_txt {
      display: block;
      color: #9d9d9d;
      font: 14px/2 "Microsoft Yahei";
    }
    .bold{ font-weight: bold; }
  </style>
  <!-- /css -->

    <!-- Donate Module -->
    <div id="donate_module">

  <!-- btn_donate & tips -->
  <div id="donate_board" class="donate_bar center">
      <br>
      ------------------------------------------------------------------------------------------------------------------------------
      <br>
    <a id="btn_donate" class="btn_donate" target="_self" href="javascript:;" title="Donate 打赏"></a>
    <span class="donate_txt">
      <Enjoy it ? Donate me !  欣赏此文？求鼓励，求支持！>
    </span>
      
    
  </div>
  <!-- /btn_donate & tips -->

  <!-- donate guide -->
    
  <div id="donate_guide" class="donate_bar center hidden">
        <br>
      ------------------------------------------------------------------------------------------------------------------------------
      <br>

    <a href="https://github.com/king32783784/king32783784.github.io/blob/master/tmpfile/wechart.png?raw=true" title="用微信扫一扫哦~" class="fancybox" rel="article0">
      <img src="https://github.com/king32783784/king32783784.github.io/blob/master/tmpfile/wechart.png?raw=true" title="微信打赏 Colin" height="320px" width="auto"/>
    </a>
        
        &nbsp;&nbsp;
   <a href="https://github.com/king32783784/king32783784.github.io/blob/master/tmpfile/alipay.png?raw=true" title="用支付宝扫一扫即可~" class="fancybox" rel="article0">
      <img src="https://github.com/king32783784/king32783784.github.io/blob/master/tmpfile/alipay.png?raw=true" title="支付宝打赏 Colin" height="320px" width="auto"/>
    </a>

    <span class="donate_txt">
      <Enjoy it ? Donate me !  欣赏此文？求鼓励，求支持！>
    </span>

  </div>
  <!-- /donate guide -->

  <!-- donate script -->
  <script type="text/javascript">
    document.getElementById('btn_donate').onclick = function() {
      $('#donate_board').addClass('hidden');
      $('#donate_guide').removeClass('hidden');
    }

    function donate_on_web(){
      $('#donate').submit();
        }

    var original_window_onload = window.onload;
        window.onload = function () {
            if (original_window_onload) {
                original_window_onload();
            }
            document.getElementById('donate_board_wdg').className = 'hidden';
    }
  </script>
  <!-- /donate script -->
</div>
<!-- /Donate Module -->
<!-- UY BEGIN -->
<div id="uyan_frame"></div>
<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2127927"></script>
<!-- UY END -->
            </div>
    <div id="scrollspy">
        <div class="col-lg-3 nav nav-stacked hidden-xs hidden-sm" data-spy="affix" data-offset-top="135">
            <div id="toc"><ul><li><a class="toc-href" href="#" title="RPM打包与SPEC分析（一）">RPM打包与SPEC分析（一）</a><ul><li><a class="toc-href" href="#gai-shu" title="概述">概述</a></li><li><a class="toc-href" href="#specwen-jian-gui-fan" title="spec文件规范">spec文件规范</a><ul><li><a class="toc-href" href="#wen-jian-tou" title="文件头">文件头</a></li><li><a class="toc-href" href="#prepduan" title="%prep段">%prep段</a></li><li><a class="toc-href" href="#buildduan" title="%build段">%build段</a></li><li><a class="toc-href" href="#install" title="%install">%install</a></li><li><a class="toc-href" href="#filesduan" title="%files段">%files段</a></li><li><a class="toc-href" href="#changelogduan" title="%changelog段">%changelog段</a></li><li><a class="toc-href" href="#zhu-yi-shi-xiang" title="注意事项">注意事项</a></li></ul></li><li><a class="toc-href" href="#specwen-jian-shi-li_1" title="SPEC文件示例">SPEC文件示例</a></li></ul></li></ul></div>
        </div>
    </div>
        </div>
    </article>
</section>

<!--"-->
<footer>
    <hr>
    <div class="row">
        <div class="col-lg-9 text-center">
            <p><small>
                <a href="http://www.reliablecounter.com" target="_blank"><img src="http://www.reliablecounter.com/count.php?page=https://king32783784.github.io/&digit=style/plain/6/&reloads=0" alt="" title="" border="0"></a><br /><a href="http://www.fabbly.com" target="_blank" style="font-family: Geneva, Arial; font-size: 9px; color: #330010; text-decoration: none;"></a>
                Copyright</a>  </a>
                <!--&middot;-->                    &copy;2009 李鹏
            </small></p>
        </div>
    </div>
</footer>
            </div>
        </div>
        <!-- /#page-content-wrapper -->
    </div>
    <!-- /#wrapper -->
    <!-- jQuery Version 1.11.2 -->
    <script src="../../../../theme/js/jquery-1.11.2.min.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="../../../../theme/js/bootstrap.min.js"></script>
    <!-- twitchy Script -->
    <script src="../../../../theme/js/pelican_twitchy.min.js"></script>
    <!-- Begin Cookie Consent https://silktide.com/tools/cookie-consent/ -->
    <script>
        window.cookieconsent_options = {
            message: "This site uses Cookies. If you continue without changing your settings, it is assumed that you are happy to receive all cookies from this website.",
            learnMore: "More info",
            link: null,
            dismiss: "Got it!",
            theme: "../../../../theme/css/cookieconsent/dark-floating.css",
        };
    </script>
    <script src="../../../../theme/js/cookieconsent.min.js"></script>
    <!-- End Cookie Consent -->

</body>
</html>
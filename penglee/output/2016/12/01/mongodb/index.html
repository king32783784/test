
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="author" content="peng.lee" />
        <meta name="keywords" content="mongodb" />
        <meta name="description" content="MongoDB是由c++编写，是一个基于分布式文件存储的开源数据库系统。数据结构由键值对组成，类似于json对象。 Mongodb支持Red Hat、SUSE、Amazon、Ubuntu、Debian系统的安装包直接安装。公司自己的操作系统不在这个范围内，所以需要通过Tarball安装。Tarball安装支持除了前面列举的 linux系统之外的安装。注意，如果是前面列举的操作系统之一，就不要再采用这种方式安装了。 安装MongoDB 社区版本 MondgoDB目前只提供64位linux系统。按照下面的安装步骤进行安装。我选择的是3.2版本 下载MongoDB二进制文件 例如： curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.4.2.tgz 至于下载到哪个目录，根据自己情况自定义选择。 解压tgz包 tar xf mongodb-linux-x86_64-3.4.2.tgz 复制解压包内容到指定目录 cp mongodb-linux-x86_64-3.4 ..." />

<!-- Open Graph tags -->
<meta property="og:site_name" content="路漫求索"/>
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Mongodb-linux安装"/>
    <meta property="og:url" content="../../../../2016/12/01/mongodb/"/>
    <meta property="og:description" content="MongoDB是由c++编写，是一个基于分布式文件存储的开源数据库系统。数据结构由键值对组成，类似于json对象。 Mongodb支持Red Hat、SUSE、Amazon、Ubuntu、Debian系统的安装包直接安装。公司自己的操作系统不在这个范围内，所以需要通过Tarball安装。Tarball安装支持除了前面列举的 linux系统之外的安装。注意，如果是前面列举的操作系统之一，就不要再采用这种方式安装了。 安装MongoDB 社区版本 MondgoDB目前只提供64位linux系统。按照下面的安装步骤进行安装。我选择的是3.2版本 下载MongoDB二进制文件 例如： curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.4.2.tgz 至于下载到哪个目录，根据自己情况自定义选择。 解压tgz包 tar xf mongodb-linux-x86_64-3.4.2.tgz 复制解压包内容到指定目录 cp mongodb-linux-x86_64-3.4 ..."/>
    <meta property="article:published_time" content="2016-12-01" />
    <meta property="article:section" content="Mongodb" />
        <meta property="article:tag" content="mongodb" />
        <meta property="article:author" content="peng.lee" />
        <meta property="og:image"
              content="../../../../favicon.png"/>

    <title>Mongodb-linux安装 - 路漫求索</title>

        <link rel="stylesheet" href="../../../../theme/css/bootstrap.sandstone.min.css" type="text/css"/>

    <link href="../../../../theme/css/font-awesome.min.css" rel="stylesheet" />
    <link href="../../../../theme/css/pygments/colorful.css" rel="stylesheet" />
    
    <link href="../../../../theme/css/pelican-twitchy.min.css" rel="stylesheet" />

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <!-- Feeds -->
        <link href="../../../../feeds/atom.xml" type="application/atom+xml" rel="alternate"
              title="路漫求索 ATOM Feed" />
</head>
<body data-spy="scroll" data-target="#scrollspy">
    <div id="wrapper">
        <!-- Sidebar -->
        <div id="sidebar-wrapper-small" class="twitchy-background">
            <ul id="accordion-small" class="sidebar-nav sidebar-nav-small">
                <li>
        <a href="../../../.." title="路漫求索" class="collapsed">
            <span class="glyphicon glyphicon-home"></span>
        </a>
    </li>
                <li class="nav-divider"></li>
                <li>
        <a href="../../../../archives.html" title="最新文章" class="collapsed">
            <span class="glyphicon glyphicon-th-list"></span>
        </a>
    </li>
                
                <li class="nav-divider"></li>
                <li id="share-small">
                    <a data-toggle="collapse" data-parent="#accordion-small" href="#collapse-share-small" title="分享" class="collapsed">
                        <i class="fa fa-share-alt padding-small"></i>
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-share-small" class="collapse ">
                    <li>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=../../../../2016/12/01/mongodb/" title="Share via Facebook" target="popup">
                            <i class="fa fa-facebook-square padding-small"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://plus.google.com/share?url=../../../../2016/12/01/mongodb/" title="Share via Google+" target="popup">
                            <i class="fa fa-google-plus padding-small"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/share" class="twitter-share-button" data-count="vertical" title="Share via Twitter" target="popup">
                            <i class="fa fa-twitter-square padding-small"></i>
                        </a>
                    </li>
                </ul></li>
                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion-small" href="#collapse-social-small" title="Social" class="collapsed">
                        <i class="fa fa-users padding-small"></i>
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-social-small" class="collapse ">
                    <li>
                        <a href="mailto:peng.li@i-soft.com.cn" title="EMAIL"><i class="fa fa-envelope-square fa-lg padding-small"></i></a>
                    </li>
                    <li>
                        <a href="https://github.com/king32783784" title="GitHub"><i class="fa fa-github-square fa-lg padding-small"></i></a>
                    </li>
                    <li>
                        <a href="http://king32783784.github.io/feeds/atom.xml" title="RSS"><i class="fa fa-rss-square fa-lg padding-small"></i></a>
                    </li>
                </ul></li>
                <li class="nav-divider"></li>
                <li>
        <a href="#" title="Back to top" class="collapsed">
            <span class="fa fa-arrow-up"></span>
        </a>
    </li>
            </ul>
        </div>
        <div id="sidebar-wrapper" class="twitchy-background">
            <ul id="accordion" class="sidebar-nav">
                <li class="sidebar-brand">
                    <a href="../../../../">
<img src="../../../../sitelogo.png" width="200" alt="Sitelogo"/>                     </a>
                </li>
                    <li class="nav-divider"></li>
                    <li>
                        <a data-toggle="collapse" data-parent="#accordion" href="#collapse-latest">
                            <span class="glyphicon glyphicon-th-list padding-small"></span>
                            最新文章
                        </a>
                    </li>
                    <li class="panel anti-panel"><ul id="collapse-latest" class="sidebar_submenu collapse in">
                        <li class="">
                            <a class="hide-overflow" href="../../../../2017/08/19/Multue/" title="Multue测试工具介绍">
                                <i class="fa fa-file-text padding-small"></i>
                                Multue测试工具介绍
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../../../../2017/06/17/网络/" title="网络速率统计的几个示例">
                                <i class="fa fa-file-text padding-small"></i>
                                网络速率统计的几个示例
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../../../../2017/04/01/Robot/" title="Robot Framework 用户手册(三)">
                                <i class="fa fa-file-text padding-small"></i>
                                Robot Framework 用户手册(三)
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../../../../2017/03/31/Robot/" title="Robot Framework 用户手册(二)">
                                <i class="fa fa-file-text padding-small"></i>
                                Robot Framework 用户手册(二)
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../../../../2017/03/26/Robot/" title="Robot Framework 用户手册(一)">
                                <i class="fa fa-file-text padding-small"></i>
                                Robot Framework 用户手册(一)
                            </a>
                        </li>
                    <li>
                        <a href="../../../../archives.html">
                            <i class="fa fa-arrow-right padding-small"></i>
                            更多
                        </a>
                    </li>
                    </ul></li>
                <li class="nav-divider"></li>
                <li id="share">
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-share" title="Share" class="collapsed">
                        <i class="fa fa-share-alt padding-small"></i>
                        分享
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-share" class="sidebar_submenu collapse ">
                    <li>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=../../../../2016/12/01/mongodb/" target="popup">
                            <i class="fa fa-facebook-square padding-small"></i>
                            Facebook
                        </a>
                    </li>
                    <li>
                        <a href="https://plus.google.com/share?url=../../../../2016/12/01/mongodb/" target="popup">
                            <i class="fa fa-google-plus padding-small"></i>
                            Google+
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/share" class="twitter-share-button" data-count="vertical" target="popup">
                            <i class="fa fa-twitter-square padding-small"></i>
                            Twitter
                        </a>
                    </li>
                </ul></li>
                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-social">
                        <i class="fa fa-users padding-small"></i>
                        联系
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-social" class="sidebar_submenu collapse ">
                    <li>
                        <a href="mailto:peng.li@i-soft.com.cn" title="EMAIL">
                            <i class="fa fa-envelope-square fa-lg padding-small"></i>
                            EMAIL
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/king32783784" title="GitHub">
                            <i class="fa fa-github-square fa-lg padding-small"></i>
                            GitHub
                        </a>
                    </li>
                    <li>
                        <a href="http://king32783784.github.io/feeds/atom.xml" title="RSS">
                            <i class="fa fa-rss-square fa-lg padding-small"></i>
                            RSS
                        </a>
                    </li>
                </ul></li>
                
                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-pages">
                        <i class="fa fa-folder-open padding-small"></i>
                       站内导航
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-pages" class="sidebar_submenu collapse ">
                    <li>
                        <a href="../../../../pages/opensource.html">
                            <i class="fa fa-file-text padding-small"></i>
                            开源项目
                        </a>
                    </li>
                    <li>
                        <a href="../../../../pages/links.html">
                            <i class="fa fa-file-text padding-small"></i>
                            常用链接
                        </a>
                    </li>
                    <li>
                        <a href="../../../../pages/Reference material.html">
                            <i class="fa fa-file-text padding-small"></i>
                            参考资料
                        </a>
                    </li>
                    <li>
                        <a href="../../../../pages/todo list.html">
                            <i class="fa fa-file-text padding-small"></i>
                            Todo List
                        </a>
                    </li>
                    <li>
                        <a href="../../../../pages/tools.html">
                            <i class="fa fa-file-text padding-small"></i>
                            工具集
                        </a>
                    </li>
                    <li class="active">
                        <a href="../../../../pages/aboutme.html">
                            <i class="fa fa-file-text padding-small"></i>
                            关于我
                        </a>
                    </li>
                    <li>
                        <a href="../../../../pages/doc.html">
                            <i class="fa fa-file-text padding-small"></i>
                            专题文档
                        </a>
                    </li>
                </ul></li>
                
                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-categories">
                        <i class="fa fa-folder-open padding-small"></i>
                        文章分类
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-categories" class="sidebar_submenu collapse ">
                    <li >
                        <a href="../../../../category/bian-cheng-yu-yan-python.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            编程语言-Python
                            <span class="badge pull-right categorybadge">26</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/zi-dong-hua-ce-shi-selenium.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            自动化测试-Selenium
                            <span class="badge pull-right categorybadge">17</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/zi-dong-hua-ce-shi-autotest.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            自动化测试-Autotest
                            <span class="badge pull-right categorybadge">12</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/zi-dong-hua-ce-shi-ltp.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            自动化测试-LTP
                            <span class="badge pull-right categorybadge">7</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/linux.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            Linux
                            <span class="badge pull-right categorybadge">6</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/ce-shi.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            测试
                            <span class="badge pull-right categorybadge">4</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/leetcode.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            leetcode
                            <span class="badge pull-right categorybadge">4</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/qi-ta.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            其他
                            <span class="badge pull-right categorybadge">4</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/xing-neng-ce-shi.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            性能测试
                            <span class="badge pull-right categorybadge">4</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/zi-dong-hua-ce-shi-robot.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            自动化测试-Robot
                            <span class="badge pull-right categorybadge">4</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/bian-cheng-yu-yan-c.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            编程语言-C
                            <span class="badge pull-right categorybadge">3</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/dockerzhuan-ti.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            Docker专题
                            <span class="badge pull-right categorybadge">3</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/python-pyqt.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            Python-pyqt
                            <span class="badge pull-right categorybadge">3</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/zi-dong-hua-ce-shi-avocado.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            自动化测试-Avocado
                            <span class="badge pull-right categorybadge">3</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/suan-fa.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            算法
                            <span class="badge pull-right categorybadge">2</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/unixhuan-jing-bian-cheng.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            unix环境编程
                            <span class="badge pull-right categorybadge">2</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/zi-dong-hua-ce-shi-gong-ju.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            自动化测试工具
                            <span class="badge pull-right categorybadge">2</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/gong-ju.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            工具
                            <span class="badge pull-right categorybadge">1</span>
                        </a>
                    </li>
                    <li class="active">
                        <a href="../../../../category/mongodb.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            Mongodb
                            <span class="badge pull-right categorybadge">1</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/tong-xin-xiang-guan.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            通信相关
                            <span class="badge pull-right categorybadge">1</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/web.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            Web
                            <span class="badge pull-right categorybadge">1</span>
                        </a>
                    </li>
                </ul></li>
                
            </ul>
        </div>
        <!-- /#sidebar-wrapper -->
        <!-- open/close sidebar -->
        <a href="#menu-toggle" class="btn btn-default" id="menu-toggle">
            <span id="right-arrow" class="glyphicon glyphicon-chevron-right"  title="expand sidebar"></span>
            <span id="left-arrow" class="glyphicon glyphicon-chevron-left" title="minimize sidebar"></span>
        </a>
       <!-- /open/close sidebar -->
       <!--访问统计 -->
        <!-- Page Content -->
        <div id="page-content-wrapper">
            <div class="container-fluid">
<section id="content">
    <article>
        <div class="row">
            <div class="col-lg-9">
                <header class="page-header">
                    <h1>
                        <a href="../../../../2016/12/01/mongodb/"
                           rel="bookmark"
                           title="Permalink to Mongodb-linux安装">
                            Mongodb-linux安装
                        </a>
                        <small>
<div class="post-info">
    <div class="publish-info-block">
        <small>
            <span class="published">
                <i class="fa fa-calendar padding-small"></i><time datetime="2016-12-01T00:00:00+08:00"> 2016-12-01 四</time>
            </span>
            <span class="category">
                <i class="fa fa-folder-open padding-small"></i><a href="../../../../category/mongodb.html">Mongodb</a>
            </span>
            <span class="tags">
                <i class="fa fa-tags padding-small"></i>
                <a href="../../../../tag/mongodb.html">mongodb</a>            </span>
        </small>
    </div>
</div><!-- /.post-info -->                        </small>
                    </h1>
                </header>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-9">
                <div class="entry-content">
                    <body><p>MongoDB是由c++编写，是一个基于分布式文件存储的开源数据库系统。数据结构由键值对组成，类似于json对象。</p>
<p>Mongodb支持Red Hat、SUSE、Amazon、Ubuntu、Debian系统的安装包直接安装。公司自己的操作系统不在这个范围内，所以需要通过Tarball安装。Tarball安装支持除了前面列举的
linux系统之外的安装。注意，如果是前面列举的操作系统之一，就不要再采用这种方式安装了。</p>
<h4 id="an-zhuang-mongodb-she-qu-ban-ben">安装MongoDB 社区版本</h4>
<p>MondgoDB目前只提供64位linux系统。按照下面的安装步骤进行安装。我选择的是3.2版本</p>
<ul>
<li>下载MongoDB二进制文件</li>
</ul>
<p>例如：</p>
<div class="highlight"><pre><span></span>curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.4.2.tgz
</pre></div>
<p>至于下载到哪个目录，根据自己情况自定义选择。</p>
<ul>
<li>
<p>解压tgz包</p>
<p>tar xf mongodb-linux-x86_64-3.4.2.tgz</p>
</li>
<li>
<p>复制解压包内容到指定目录</p>
<p>cp mongodb-linux-x86_64-3.4.2/* . -rf # 我复制到当前目录</p>
</li>
<li>
<p>添加mongodb的二进制目录到PATH变量</p>
<p>export PATH=<mongodb-install-directory>/bin:$PATH</mongodb-install-directory></p>
</li>
</ul>
<p>mongodb-install-directory 替换为实际存放目录</p>
<h4 id="yun-xing-she-qu-ban-mongodb">运行社区版MongoDB</h4>
<p>在启动MongoDB之前，创建一个用于mongod程序写入数据的目录。默认情况下，mongod程序使用/data/db目录。 如果想创建其他目录，并使用，需要在启动mongod前通过dbpath指定。</p>
<ul>
<li>
<p>创建数据库存放的位置和日志文件</p>
<p>mkdir -p /data/db</p>
</li>
<li>
<p>设置data目录的权限
   运行mongod之前，需要确保mongod可以具有读写目录的权限。</p>
</li>
<li>
<p>运MongoDB</p>
</li>
</ul>
<p>不指定路径启动
  如果系统环境变量PATH包括mongod，并且使用默认的数据仓库（/data/db)，可以通过mongod简单的启动：</p>
<div class="highlight"><pre><span></span>mongod
</pre></div>
<p>启动log片段：</p>
<div class="highlight"><pre><span></span><span class="nt">2016-12-01T10</span><span class="p">:</span><span class="nd">56</span><span class="p">:</span><span class="nd">56</span><span class="p">.</span><span class="nc">238</span><span class="o">+</span><span class="nt">0800</span> <span class="nt">I</span> <span class="nt">FTDC</span>     <span class="cp">[</span><span class="nx">initandlisten</span><span class="cp">]</span> <span class="nt">Initializing</span> <span class="nt">full-time</span> <span class="nt">diagnostic</span> <span class="nt">data</span> <span class="nt">capture</span> <span class="nt">with</span> <span class="nt">directory</span> <span class="s1">'/data/db/diagnostic.data'</span>
<span class="nt">2016-12-01T10</span><span class="p">:</span><span class="nd">56</span><span class="p">:</span><span class="nd">56</span><span class="p">.</span><span class="nc">504</span><span class="o">+</span><span class="nt">0800</span> <span class="nt">I</span> <span class="nt">INDEX</span>    <span class="cp">[</span><span class="nx">initandlisten</span><span class="cp">]</span> <span class="nt">build</span> <span class="nt">index</span> <span class="nt">on</span><span class="o">:</span> <span class="nt">admin</span><span class="p">.</span><span class="nc">system</span><span class="p">.</span><span class="nc">version</span> <span class="nt">properties</span><span class="o">:</span> <span class="p">{</span> <span class="n">v</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">key</span><span class="o">:</span> <span class="err">{</span> <span class="n">version</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span><span class="o">,</span> <span class="nt">name</span><span class="o">:</span> <span class="s2">"incompatible_with_version_32"</span><span class="o">,</span> <span class="nt">ns</span><span class="o">:</span> <span class="s2">"admin.system.version"</span> <span class="err">}</span>
<span class="nt">2016-12-01T10</span><span class="p">:</span><span class="nd">56</span><span class="p">:</span><span class="nd">56</span><span class="p">.</span><span class="nc">504</span><span class="o">+</span><span class="nt">0800</span> <span class="nt">I</span> <span class="nt">INDEX</span>    <span class="cp">[</span><span class="nx">initandlisten</span><span class="cp">]</span>          <span class="nt">building</span> <span class="nt">index</span> <span class="nt">using</span> <span class="nt">bulk</span> <span class="nt">method</span><span class="o">;</span> <span class="nt">build</span> <span class="nt">may</span> <span class="nt">temporarily</span> <span class="nt">use</span> <span class="nt">up</span> <span class="nt">to</span> <span class="nt">500</span> <span class="nt">megabytes</span> <span class="nt">of</span> <span class="nt">RAM</span>
<span class="nt">2016-12-01T10</span><span class="p">:</span><span class="nd">56</span><span class="p">:</span><span class="nd">56</span><span class="p">.</span><span class="nc">504</span><span class="o">+</span><span class="nt">0800</span> <span class="nt">I</span> <span class="nt">INDEX</span>    <span class="cp">[</span><span class="nx">initandlisten</span><span class="cp">]</span> <span class="nt">build</span> <span class="nt">index</span> <span class="nt">done</span><span class="o">.</span>  <span class="nt">scanned</span> <span class="nt">0</span> <span class="nt">total</span> <span class="nt">records</span><span class="o">.</span> <span class="nt">0</span> <span class="nt">secs</span>
<span class="nt">2016-12-01T10</span><span class="p">:</span><span class="nd">56</span><span class="p">:</span><span class="nd">56</span><span class="p">.</span><span class="nc">505</span><span class="o">+</span><span class="nt">0800</span> <span class="nt">I</span> <span class="nt">COMMAND</span>  <span class="cp">[</span><span class="nx">initandlisten</span><span class="cp">]</span> <span class="nt">setting</span> <span class="nt">featureCompatibilityVersion</span> <span class="nt">to</span> <span class="nt">3</span><span class="p">.</span><span class="nc">4</span>
<span class="nt">2016-12-01T10</span><span class="p">:</span><span class="nd">56</span><span class="p">:</span><span class="nd">56</span><span class="p">.</span><span class="nc">505</span><span class="o">+</span><span class="nt">0800</span> <span class="nt">I</span> <span class="nt">NETWORK</span>  <span class="cp">[</span><span class="nx">thread1</span><span class="cp">]</span> <span class="nt">waiting</span> <span class="nt">for</span> <span class="nt">connections</span> <span class="nt">on</span> <span class="nt">port</span> <span class="nt">27017</span>
</pre></div>
<p>指定mongod路径启动
  使用mongod的绝对路径，启动</p>
<div class="highlight"><pre><span></span>&lt;path to binary&gt;/mongod
</pre></div>
<p>指定数据仓库路径</p>
<div class="highlight"><pre><span></span>mongod --dbpath &lt;path to data directory&gt;
</pre></div>
<p>mongod 参数查询 mongod -h</p>
<h4 id="mongodbshi-yong">MongoDB使用</h4>
<p>为了帮助使用MongoDB, MongoDB提供了各种驱动程序版本的<a href="https://docs.mongodb.com/manual/#getting-started">入门指南</a>
在生产环境中部署MongoDB之前，请参考<a href="https://docs.mongodb.com/manual/administration/production-notes/">Production Notes</a>文档。
要停止MongoDB，请在运行mongod实例的终端中按Control+C </p>
<p>通过mongo连接数据库</p>
<div class="highlight"><pre><span></span>mongo

MongoDB shell version v3.4.2
connecting to: mongodb://127.0.0.1:27017
MongoDB server version: 3.4.2
</pre></div>
<p>查询所有的数据库</p>
<div class="highlight"><pre><span></span>show databases
</pre></div>
<p>查询结果</p>
<div class="highlight"><pre><span></span>admin  0.000GB 不可用
local  0.000GB 不可用
</pre></div>
<p>常用方法：</p>
<div class="highlight"><pre><span></span>&gt; help
    db.help()                    help on db methods
    db.mycoll.help()             help on collection methods
    sh.help()                    sharding helpers
    rs.help()                    replica set helpers
    help admin                   administrative help
    help connect                 connecting to a db help
    help keys                    key shortcuts
    help misc                    misc things to know
    help mr                      mapreduce

    show dbs                     show database names
    show collections             show collections in current database
    show users                   show users in current database
    show profile                 show most recent system.profile entries with time &gt;= 1ms
    show logs                    show the accessible logger names
    show log [name]              prints out the last segment of log in memory, 'global' is default
    use &lt;db_name&gt;                set current database
    db.foo.find()                list objects in collection foo
    db.foo.find( { a : 1 } )     list objects in foo where a == 1
    it                           result of the last line evaluated; use to further iterate
    DBQuery.shellBatchSize = x   set default number of items to display on shell
    exit                         quit the mongo shell
</pre></div>
<p>db常用方法：</p>
<div class="highlight"><pre><span></span>DB methods:
    db.adminCommand(nameOrDocument) - switches to 'admin' db, and runs command [ just calls db.runCommand(...) ]
    db.auth(username, password)
    db.cloneDatabase(fromhost)
    db.commandHelp(name) returns the help for the command
    db.copyDatabase(fromdb, todb, fromhost)
    db.createCollection(name, { size : ..., capped : ..., max : ... } )
    db.createView(name, viewOn, [ { $operator: {...}}, ... ], { viewOptions } )
    db.createUser(userDocument)
    db.currentOp() displays currently executing operations in the db
    db.dropDatabase()
    db.eval() - deprecated
    db.fsyncLock() flush data to disk and lock server for backups
    db.fsyncUnlock() unlocks server following a db.fsyncLock()
    db.getCollection(cname) same as db['cname'] or db.cname
    db.getCollectionInfos([filter]) - returns a list that contains the names and options of the db's collections
    db.getCollectionNames()
    db.getLastError() - just returns the err msg string
    db.getLastErrorObj() - return full status object
    db.getLogComponents()
    db.getMongo() get the server connection object
    db.getMongo().setSlaveOk() allow queries on a replication slave server
    db.getName()
    db.getPrevError()
    db.getProfilingLevel() - deprecated
    db.getProfilingStatus() - returns if profiling is on and slow threshold
    db.getReplicationInfo()
    db.getSiblingDB(name) get the db at the same server as this one
    db.getWriteConcern() - returns the write concern used for any operations on this db, inherited from server object if set
    db.hostInfo() get details about the server's host
    db.isMaster() check replica primary status
    db.killOp(opid) kills the current operation in the db
    db.listCommands() lists all the db commands
    db.loadServerScripts() loads all the scripts in db.system.js
    db.logout()
    db.printCollectionStats()
    db.printReplicationInfo()
    db.printShardingStatus()
    db.printSlaveReplicationInfo()
    db.dropUser(username)
    db.repairDatabase()
    db.resetError()
    db.runCommand(cmdObj) run a database command.  if cmdObj is a string, turns it into { cmdObj : 1 }
    db.serverStatus()
    db.setLogLevel(level,&lt;component&gt;)
    db.setProfilingLevel(level,&lt;slowms&gt;) 0=off 1=slow 2=all
    db.setWriteConcern( &lt;write concern doc&gt; ) - sets the write concern for writes to the db
    db.unsetWriteConcern( &lt;write concern doc&gt; ) - unsets the write concern for writes to the db
    db.setVerboseShell(flag) display extra information in shell output
    db.shutdownServer()
    db.stats()
    db.version() current version of the server
</pre></div>
<p>指定数据库的集合进行操作、管理和监控
DBCollection help
        db.mycoll.find().help() - show DBCursor help
        db.mycoll.bulkWrite( operations, <optional params=""> ) - bulk execute write operations, optional parameters are: w, wtimeout, j
        db.mycoll.count( query = {}, <optional params=""> ) - count the number of documents that matches the query, optional parameters are: limit, skip, hint, maxTimeMS
        db.mycoll.copyTo(newColl) - duplicates collection by copying all documents to newColl; no indexes are copied.
        db.mycoll.convertToCapped(maxBytes) - calls {convertToCapped:'mycoll', size:maxBytes}} command
        db.mycoll.createIndex(keypattern[,options])
        db.mycoll.createIndexes([keypatterns], <options>)
        db.mycoll.dataSize()
        db.mycoll.deleteOne( filter, <optional params=""> ) - delete first matching document, optional parameters are: w, wtimeout, j
        db.mycoll.deleteMany( filter, <optional params=""> ) - delete all matching documents, optional parameters are: w, wtimeout, j
        db.mycoll.distinct( key, query, <optional params=""> ) - e.g. db.mycoll.distinct( 'x' ), optional parameters are: maxTimeMS
        db.mycoll.drop() drop the collection
        db.mycoll.dropIndex(index) - e.g. db.mycoll.dropIndex( "indexName" ) or db.mycoll.dropIndex( { "indexKey" : 1 } )
        db.mycoll.dropIndexes()
        db.mycoll.ensureIndex(keypattern[,options]) - DEPRECATED, use createIndex() instead
        db.mycoll.explain().help() - show explain help
        db.mycoll.reIndex()
        db.mycoll.find([query],[fields]) - query is an optional query filter. fields is optional set of fields to return.
                                                      e.g. db.mycoll.find( {x:77} , {name:1, x:1} )
        db.mycoll.find(...).count()
        db.mycoll.find(...).limit(n)
        db.mycoll.find(...).skip(n)
        db.mycoll.find(...).sort(...)
        db.mycoll.findOne([query], [fields], [options], [readConcern])
        db.mycoll.findOneAndDelete( filter, <optional params=""> ) - delete first matching document, optional parameters are: projection, sort, maxTimeMS
        db.mycoll.findOneAndReplace( filter, replacement, <optional params=""> ) - replace first matching document, optional parameters are: projection, sort, maxTimeMS, upsert, returnNewDocument
        db.mycoll.findOneAndUpdate( filter, update, <optional params=""> ) - update first matching document, optional parameters are: projection, sort, maxTimeMS, upsert, returnNewDocument
        db.mycoll.getDB() get DB object associated with collection
        db.mycoll.getPlanCache() get query plan cache associated with collection
        db.mycoll.getIndexes()
        db.mycoll.group( { key : ..., initial: ..., reduce : ...[, cond: ...] } )
        db.mycoll.insert(obj)
        db.mycoll.insertOne( obj, <optional params=""> ) - insert a document, optional parameters are: w, wtimeout, j
        db.mycoll.insertMany( [objects], <optional params=""> ) - insert multiple documents, optional parameters are: w, wtimeout, j
        db.mycoll.mapReduce( mapFunction , reduceFunction , <optional params=""> )
        db.mycoll.aggregate( [pipeline], <optional params=""> ) - performs an aggregation on a collection; returns a cursor
        db.mycoll.remove(query)
        db.mycoll.replaceOne( filter, replacement, <optional params=""> ) - replace the first matching document, optional parameters are: upsert, w, wtimeout, j
        db.mycoll.renameCollection( newName , <droptarget> ) renames the collection.
        db.mycoll.runCommand( name , <options> ) runs a db command with the given name where the first param is the collection name
        db.mycoll.save(obj)
        db.mycoll.stats({scale: N, indexDetails: true/false, indexDetailsKey: <index key="">, indexDetailsName: <index name="">})
        db.mycoll.storageSize() - includes free space allocated to this collection
        db.mycoll.totalIndexSize() - size in bytes of all the indexes
        db.mycoll.totalSize() - storage allocated for all data and indexes
        db.mycoll.update( query, object[, upsert_bool, multi_bool] ) - instead of two flags, you can pass an object with fields: upsert, multi
        db.mycoll.updateOne( filter, update, <optional params=""> ) - update the first matching document, optional parameters are: upsert, w, wtimeout, j
        db.mycoll.updateMany( filter, update, <optional params=""> ) - update all matching documents, optional parameters are: upsert, w, wtimeout, j
        db.mycoll.validate( <full> ) - SLOW
        db.mycoll.getShardVersion() - only for use with sharding
        db.mycoll.getShardDistribution() - prints statistics about data distribution in the cluster
        db.mycoll.getSplitKeysForChunks( <maxchunksize> ) - calculates split points over all chunks and returns splitter function
        db.mycoll.getWriteConcern() - returns the write concern used for any operations on this collection, inherited from server/db if set
        db.mycoll.setWriteConcern( <write concern="" doc=""> ) - sets the write concern for writes to the collection
        db.mycoll.unsetWriteConcern( <write concern="" doc=""> ) - unsets the write concern for writes to the collection
        db.mycoll.latencyStats() - display operation latency histograms for this collection
sh.help()
        sh.addShard( host )                       server:port OR setname/server:port
        sh.addShardToZone(shard,zone)             adds the shard to the zone
        sh.updateZoneKeyRange(fullName,min,max,zone)      assigns the specified range of the given collection to a zone
        sh.disableBalancing(coll)                 disable balancing on one collection
        sh.enableBalancing(coll)                  re-enable balancing on one collection
        sh.enableSharding(dbname)                 enables sharding on the database dbname
        sh.getBalancerState()                     returns whether the balancer is enabled
        sh.isBalancerRunning()                    return true if the balancer has work in progress on any mongos
        sh.moveChunk(fullName,find,to)            move the chunk where 'find' is to 'to' (name of shard)
        sh.removeShardFromZone(shard,zone)      removes the shard from zone
        sh.removeRangeFromZone(fullName,min,max)   removes the range of the given collection from any zone
        sh.shardCollection(fullName,key,unique,options)   shards the collection
        sh.splitAt(fullName,middle)               splits the chunk that middle is in at middle
        sh.splitFind(fullName,find)               splits the chunk that find is in at the median
        sh.startBalancer()                        starts the balancer so chunks are balanced automatically
        sh.status()                               prints a general overview of the cluster
        sh.stopBalancer()                         stops the balancer so chunks are not balanced automatically
        sh.disableAutoSplit()                   disable autoSplit on one collection
        sh.enableAutoSplit()                    re-eable autoSplit on one colleciton
        sh.getShouldAutoSplit()                 returns whether autosplit is enabled</write></write></maxchunksize></full></optional></optional></index></index></options></droptarget></optional></optional></optional></optional></optional></optional></optional></optional></optional></optional></optional></options></optional></optional></p>
<p>rs.help()
        rs.status()                                { replSetGetStatus : 1 } checks repl set status
        rs.initiate()                              { replSetInitiate : null } initiates set with default settings
        rs.initiate(cfg)                           { replSetInitiate : cfg } initiates set with configuration cfg
        rs.conf()                                  get the current configuration object from local.system.replset
        rs.reconfig(cfg)                           updates the configuration of a running replica set with cfg (disconnects)
        rs.add(hostportstr)                        add a new member to the set with default attributes (disconnects)
        rs.add(membercfgobj)                       add a new member to the set with extra attributes (disconnects)
        rs.addArb(hostportstr)                     add a new member which is arbiterOnly:true (disconnects)
        rs.stepDown([stepdownSecs, catchUpSecs])   step down as primary (disconnects)
        rs.syncFrom(hostportstr)                   make a secondary sync from the given member
        rs.freeze(secs)                            make a node ineligible to become primary for the time specified
        rs.remove(hostportstr)                     remove a host from the replica set (disconnects)
        rs.slaveOk()                               allow queries on secondary nodes</p>
<div class="highlight"><pre><span></span>    rs.printReplicationInfo()                  check oplog size and time range
    rs.printSlaveReplicationInfo()             check replica set members and replication lag
    db.isMaster()                              check who is primary

    reconfiguration helpers disconnect from the database so the shell will display
    an error, even if the command succeeds.
</pre></div>
<p>mongodb的基本操作下篇再进行说明。</p></body>
                </div>
                <footer class="text-right">
                    <p>by peng.lee</p>
                </footer>
  <!-- css -->
  <style type="text/css">
      .center {
          text-align: center;
      }
      .hidden {
          display: none;
      }
    .donate_bar a.btn_donate{
      display: inline-block;
      width: 80px;
      height:80px;
      background: url("http://7xsl28.com1.z0.glb.clouddn.com/btn_reward.gif") no-repeat;
      _background: url("http://7xsl28.com1.z0.glb.clouddn.com/btn_reward.gif") no-repeat;

      <!-- http://img.t.sinajs.cn/t5/style/images/apps_PRF/e_media/btn_reward.gif
           因为本 hexo 生成的博客所用的 theme 的 a:hover 带动画效果，
         为了在让打赏按钮显示效果正常 而 添加了以下几行 css，
         嵌入其它博客时不一定要它们。 -->
      -webkit-transition: background 0s;
      -moz-transition: background 0s;
      -o-transition: background 0s;
      -ms-transition: background 0s;
      transition: background 0s;
      <!-- /让打赏按钮的效果显示正常 而 添加的几行 css 到此结束 -->
    }

    .donate_bar a.btn_donate:hover{ background-position: 0px -82px;}
    .donate_bar .donate_txt {
      display: block;
      color: #9d9d9d;
      font: 14px/2 "Microsoft Yahei";
    }
    .bold{ font-weight: bold; }
  </style>
  <!-- /css -->

    <!-- Donate Module -->
    <div id="donate_module">

  <!-- btn_donate & tips -->
  <div id="donate_board" class="donate_bar center">
      <br>
      ------------------------------------------------------------------------------------------------------------------------------
      <br>
    <a id="btn_donate" class="btn_donate" target="_self" href="javascript:;" title="Donate 打赏"></a>
    <span class="donate_txt">
      <Enjoy it ? Donate me !  欣赏此文？求鼓励，求支持！>
    </span>
      
    
  </div>
  <!-- /btn_donate & tips -->

  <!-- donate guide -->
    
  <div id="donate_guide" class="donate_bar center hidden">
        <br>
      ------------------------------------------------------------------------------------------------------------------------------
      <br>

    <a href="https://github.com/king32783784/king32783784.github.io/blob/master/tmpfile/wechart.png?raw=true" title="用微信扫一扫哦~" class="fancybox" rel="article0">
      <img src="https://github.com/king32783784/king32783784.github.io/blob/master/tmpfile/wechart.png?raw=true" title="微信打赏 Colin" height="320px" width="auto"/>
    </a>
        
        &nbsp;&nbsp;
   <a href="https://github.com/king32783784/king32783784.github.io/blob/master/tmpfile/alipay.png?raw=true" title="用支付宝扫一扫即可~" class="fancybox" rel="article0">
      <img src="https://github.com/king32783784/king32783784.github.io/blob/master/tmpfile/alipay.png?raw=true" title="支付宝打赏 Colin" height="320px" width="auto"/>
    </a>

    <span class="donate_txt">
      <Enjoy it ? Donate me !  欣赏此文？求鼓励，求支持！>
    </span>

  </div>
  <!-- /donate guide -->

  <!-- donate script -->
  <script type="text/javascript">
    document.getElementById('btn_donate').onclick = function() {
      $('#donate_board').addClass('hidden');
      $('#donate_guide').removeClass('hidden');
    }

    function donate_on_web(){
      $('#donate').submit();
        }

    var original_window_onload = window.onload;
        window.onload = function () {
            if (original_window_onload) {
                original_window_onload();
            }
            document.getElementById('donate_board_wdg').className = 'hidden';
    }
  </script>
  <!-- /donate script -->
</div>
<!-- /Donate Module -->
<!-- UY BEGIN -->
<div id="uyan_frame"></div>
<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2127927"></script>
<!-- UY END -->
            </div>
    <div id="scrollspy">
        <div class="col-lg-3 nav nav-stacked hidden-xs hidden-sm" data-spy="affix" data-offset-top="135">
            <div id="toc"><ul><li><a class="toc-href" href="#" title="Mongodb-linux安装">Mongodb-linux安装</a><ul><li><a class="toc-href" href="#an-zhuang-mongodb-she-qu-ban-ben" title="安装MongoDB 社区版本">安装MongoDB 社区版本</a></li><li><a class="toc-href" href="#yun-xing-she-qu-ban-mongodb" title="运行社区版MongoDB">运行社区版MongoDB</a></li><li><a class="toc-href" href="#mongodbshi-yong" title="MongoDB使用">MongoDB使用</a></li></ul></li></ul></div>
        </div>
    </div>
        </div>
    </article>
</section>

<!--"-->
<footer>
    <hr>
    <div class="row">
        <div class="col-lg-9 text-center">
            <p><small>
                <a href="http://www.reliablecounter.com" target="_blank"><img src="http://www.reliablecounter.com/count.php?page=https://king32783784.github.io/&digit=style/plain/6/&reloads=0" alt="" title="" border="0"></a><br /><a href="http://www.fabbly.com" target="_blank" style="font-family: Geneva, Arial; font-size: 9px; color: #330010; text-decoration: none;"></a>
                Copyright</a>  </a>
                <!--&middot;-->                    &copy;2009 李鹏
            </small></p>
        </div>
    </div>
</footer>
            </div>
        </div>
        <!-- /#page-content-wrapper -->
    </div>
    <!-- /#wrapper -->
    <!-- jQuery Version 1.11.2 -->
    <script src="../../../../theme/js/jquery-1.11.2.min.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="../../../../theme/js/bootstrap.min.js"></script>
    <!-- twitchy Script -->
    <script src="../../../../theme/js/pelican_twitchy.min.js"></script>
    <!-- Begin Cookie Consent https://silktide.com/tools/cookie-consent/ -->
    <script>
        window.cookieconsent_options = {
            message: "This site uses Cookies. If you continue without changing your settings, it is assumed that you are happy to receive all cookies from this website.",
            learnMore: "More info",
            link: null,
            dismiss: "Got it!",
            theme: "../../../../theme/css/cookieconsent/dark-floating.css",
        };
    </script>
    <script src="../../../../theme/js/cookieconsent.min.js"></script>
    <!-- End Cookie Consent -->

</body>
</html>